<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/dashboard/logoponal.png" type="image/png">
    <title>CA Colombia | Base de Datos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .initial-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #004830 0%, #003820 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.8s ease-out;
        }

        .initial-loading.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .loading-content {
            text-align: center;
            color: white;
            padding: 2rem;
            max-width: 90%;
            width: 400px;
        }

        .loading-logo {
            width: 120px;
            height: 120px;
            margin-bottom: 2rem;
            animation: pulse 2s infinite;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            margin: 1.5rem auto;
            border: 4px solid rgba(191, 155, 48, 0.3);
            border-top: 4px solid #BF9B30;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .loading-text {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            margin-bottom: 0.5rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: fadeInUp 0.8s ease-out;
        }

        .loading-subtext {
            font-size: clamp(0.9rem, 3vw, 1.2rem);
            color: #BF9B30;
            margin-bottom: 1.5rem;
            font-weight: 500;
            animation: fadeInUp 0.8s ease-out 0.2s backwards;
        }

        .loading-progress {
            width: 100%;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1.5rem;
        }

        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #BF9B30, #E5BC3C);
            transition: width 3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(191, 155, 48, 0.5);
        }

        .loading-message {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            animation: fadeInUp 0.8s ease-out 0.4s backwards;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .loading-content {
                padding: 1.5rem;
            }
            
            .loading-logo {
                width: 90px;
                height: 90px;
            }
        }

        body {
            overflow: hidden;
        }

        body.loaded {
            overflow: auto;
        }

        /* Add these table styles */
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
            text-align: left;
        }

        th {
            background-color: #f8fafc;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f8fafc;
        }

        tr:hover {
            background-color: #f1f5f9;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="initial-loading">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Base de Datos PONAL</div>
            <div class="loading-subtext">Sistema de Información Policial</div>
            <div class="loading-progress">
                <div class="progress-bar"></div>
            </div>
            <div class="loading-message">Inicializando sistema...</div>
        </div>
    </div>
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <img id="logoponalepico777" src="/dashboard/logo_pol.png" alt="Logo" class="h-8 md:h-12">
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <a href="https://cacolombia.com/police-page.html" class="text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">INICIO</a>
                    <a href="https://discord.gg/cacolombiarp" class="text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">CONTACTO</a>
                    <a href="https://cacolombia.com/notas.html" class="text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">NOTAS</a>
                </div>
                <button id="mobile-menu-button" class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-green-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500">
                    <span class="sr-only">Abrir menu principal</span>
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="https://cacolombia.com/police-page.html" class="block text-gray-700 hover:text-green-600 hover:bg-gray-50 px-3 py-2 rounded-md text-base font-medium">INICIO</a>
                <a href="https://discord.gg/cacolombiarp" class="block text-gray-700 hover:text-green-600 hover:bg-gray-50 px-3 py-2 rounded-md text-base font-medium">CONTACTO</a>
                <a href="https://cacolombia.com/notas.html" class="block text-gray-700 hover:text-green-600 hover:bg-gray-50 px-3 py-2 rounded-md text-base font-medium">NOTAS</a>
            </div>
        </div>
    </nav>
    <div class="h-16"></div>
    <main class="max-w-7xl mx-auto p-2 sm:p-4 my-4 sm:my-8">
    <div class="bg-white rounded-[1rem] sm:rounded-[2rem] shadow-xl overflow-hidden border-4 sm:border-8 border-gray-800 max-w-4xl mx-auto">
        <!-- Barra de búsqueda -->
        <div class="p-4 bg-gray-50">
            <div class="flex items-center bg-gray-100 rounded-lg p-2 mb-4">
                <input type="text" id="input" placeholder="Buscar placa o documento" 
                       class="w-full flex-1 bg-transparent border-none focus:outline-none px-2 sm:px-4 text-sm sm:text-base">
                <button onclick="getIdByDoc()" 
                        class="bg-green-600 text-white p-2 rounded-lg hover:bg-green-700 transition-colors">
                    <i class="fas fa-search"></i>
                </button>
            </div>

            <!-- Información Personal y Foto -->
            <div class="flex flex-col md:flex-row gap-6 mb-6">
                <div class="md:w-1/3">
                    <div class="bg-white p-4 rounded-lg shadow-md">
                        <div class="flex flex-col items-center">
                            <img id="avatar" src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png" 
                                 class="w-32 h-32 rounded-full mb-4 border-4 border-green-600 object-cover">
                            <div class="grid grid-cols-2 gap-x-4 gap-y-2 text-sm w-full">
                                <div><strong>Nombre:</strong></div>
                                <div id="nombre"></div>
                                <div><strong>Apellido:</strong></div>
                                <div id="apellido"></div>
                                <div><strong>Nacionalidad:</strong></div>
                                <div id="nacionalidad"></div>
                                <div><strong>Estatura:</strong></div>
                                <div><span id="estatura"></span> cm</div>
                                <div><strong>Sexo:</strong></div>
                                <div id="sexo"></div>
                                <div><strong>F. Nacimiento:</strong></div>
                                <div id="fechanacimiento"></div>
                                <div><strong>Edad:</strong></div>
                                <div id="edad"></div>
                                <div><strong>G.S:</strong></div>
                                <div id="gs"></div>
                                <div><strong>Username:</strong></div>
                                <div id="username"></div>
                                <div><strong>Documento:</strong></div>
                                <div id="ndoc"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tablas de información -->
                <div class="md:w-2/3 space-y-4">
                    <!-- Aquí van las tablas existentes -->
                    <!-- table-licencia, table-vehiculos, table-antecedentes, etc. -->
                    <div class="space-y-4 sm:space-y-6">
          
                        <div class="bg-white rounded-lg shadow-md p-3 sm:p-4 overflow-x-auto">
                            <h3 class="text-base sm:text-lg font-semibold text-green-600 mb-3 sm:mb-4">LICENCIA</h3>
                    
                            <div class="min-w-full inline-block align-middle">
                                <div class="overflow-x-auto border rounded-lg">
                                    <table id="table-licencia" class="min-w-full divide-y divide-gray-200 border">
                                        <thead>
                                            <tr>
                                                <th class="border">LICENCIA DE CONDUCIR</th>
                                                <th class="border">CATEGORIA</th>
                                                <th class="border">FECHA DE EXPEDICIÓN</th>
                                                <th class="border">RESTRICCIONES</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            <tr>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-3 sm:p-4 overflow-x-auto">
                            <h3 class="text-base sm:text-lg font-semibold text-green-600 mb-3 sm:mb-4">VEHICULOS</h3>
                            <div class="min-w-full inline-block align-middle">
                                <div class="overflow-x-auto border rounded-lg">
                                    <table id="table-vehiculos" class="min-w-full divide-y divide-gray-200 border">
                                        <thead>
                                            <tr>
                                                <th class="border">NOMBRE</th>
                                                <th class="border">PLACA</th>
                                                <th class="border">COLOR</th>
                                                <th class="border">BLINDADO</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            <tr>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-3 sm:p-4 overflow-x-auto">
                            <h3 class="text-base sm:text-lg font-semibold text-green-600 mb-3 sm:mb-4">ANTECEDENTES</h3>
                            <div class="min-w-full inline-block align-middle">
                                <div class="overflow-x-auto border rounded-lg">
                                    <table id="table-antecedentes" class="min-w-full divide-y divide-gray-200 border">
                                        <thead>
                                            <tr>
                                                <th class="border">ANTECEDENTES</th>
                                                <th class="border">TIEMPO</th>
                                                <th class="border">AGENTE</th>
                                                <th class="border">FECHA DE REGISTRO</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            <tr>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-3 sm:p-4 overflow-x-auto">
                            <h3 class="text-base sm:text-lg font-semibold text-green-600 mb-3 sm:mb-4">MULTAS</h3>
                            <div class="min-w-full inline-block align-middle">
                                <div class="overflow-x-auto border rounded-lg">
                                    <table id="table-multas" class="min-w-full divide-y divide-gray-200 border">
                                        <thead>
                                            <tr>
                                                <th class="border">ARTICULOS</th>
                                                <th class="border">PLACA</th>
                                                <th class="border">VALOR</th>
                                                <th class="border">AGENTE</th>
                                                <th class="border">FECHA DE REGISTRO</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            <tr>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                                <td class="border">---</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-3 sm:p-4 overflow-x-auto">
                            <h3 class="text-base sm:text-lg font-semibold text-green-600 mb-3 sm:mb-4">OBSERVACIONES</h3>
                            <div class="min-w-full inline-block align-middle">
                                <div class="overflow-x-auto border rounded-lg">
                                    <table id="table-observaciones" class="min-w-full divide-y divide-gray-200 border">
                                        <thead>
                                            <tr>
                                                <th class="border">OBSERVACIONES</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            <tr>
                                                <td class="border">---</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-3 sm:p-4 overflow-x-auto">
                            <h3 class="text-base sm:text-lg font-semibold text-green-600 mb-3 sm:mb-4">BUSQUEDA Y CAPTURA</h3>
                            <div class="min-w-full inline-block align-middle">
                                <div class="overflow-x-auto border rounded-lg">
                                    <table id="table-byc" class="min-w-full divide-y divide-gray-200 border">
                                        <thead>
                                            <tr>
                                                <th class="border">estado</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            <tr>
                                                <td class="border">---</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
                <div class="mt-6 border-t border-gray-200 pt-6">
                    <div class="flex flex-wrap justify-center gap-3">
                        <button onclick="toggleForm('form-multas', 'form-arrestos','form-licencia','form-incautacion')" 
                                class="flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl text-sm sm:text-base">
                            <i class="fas fa-file-invoice-dollar"></i>
                            <span>Subir Multa</span>
                        </button>
                        <button onclick="toggleForm('form-arrestos', 'form-multas','form-licencia','form-incautacion')"
                                class="flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl text-sm sm:text-base">
                            <i class="fas fa-handcuffs"></i>
                            <span>Subir Arresto</span>
                        </button>
                        <button onclick="toggleForm('form-licencia','form-multas', 'form-arrestos','form-incautacion')"
                        class="flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl text-sm sm:text-base">
                    <i class="fas fa-file"></i>
                    <span>Licencia de Conducción</span>
                </button>
                <button onclick="toggleForm('form-incautacion','form-multas', 'form-arrestos','form-licencia')"
                        class="flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl text-sm sm:text-base">
                    <i class="fas fa-file"></i>
                    <span>Incautación</span>
                </button>
                        <button onclick="cerrarSesion()"
                                class="flex items-center justify-center gap-2 bg-red-600 text-white px-6 py-2.5 rounded-lg hover:bg-red-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl text-sm sm:text-base">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Cerrar sesión</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="registros mt-4 sm:mt-8 space-y-4">
    <!-- Formulario de Multas -->
    <div id="form-multas" class="max-w-lg mx-auto bg-white rounded-xl shadow-lg hidden overflow-hidden">
        <div class="bg-green-600 p-4">
            <h2 class="text-xl font-bold text-white flex items-center gap-2">
                <i class="fas fa-file-invoice-dollar"></i>
                Registrar Nueva Multa
            </h2>
        </div>
        
        <form id="upload-ticket-form" class="p-6 space-y-6">
            <div class="space-y-4">
                <div>
                    <label for="selector" class="block text-sm font-medium text-gray-700 mb-1">Tipo de Sanción</label>
                    <select name="type" id="selector" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                        <option value="multa">Multa</option>
                        <option value="Comparendo">Comparendo</option>
                    </select>
                </div>

                <div>
                    <label for="articulos-multa" class="block text-sm font-medium text-gray-700 mb-1">Artículos</label>
                    <input type="text" id="articulos-multa" name="record" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                </div>

                <div>
                    <label for="placa-multa" class="block text-sm font-medium text-gray-700 mb-1">Placa del Vehículo</label>
                    <input type="text" id="placa-multa" name="plate" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all uppercase">
                </div>

                <div>
                    <label for="valor-multa" class="block text-sm font-medium text-gray-700 mb-1">Valor de la Multa</label>
                    <div class="relative">
                        <span class="absolute left-3 top-2 text-gray-500">$</span>
                        <input type="number" id="valor-multa" name="value" required
                               class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                    </div>
                </div>
            </div>

            <div class="bg-gray-50 p-4 rounded-lg space-y-3">
                <div class="border-b pb-3">
                    <h3 class="font-medium text-gray-700">Información del Agente</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong>Nombre:</strong> <%=userdata.nombreic%></p>
                        <p><strong>Apellido:</strong> <%=userdata.apellidoic%></p>
                        <p><strong>Documento:</strong> <%=userdata.documentId%></p>
                    </div>
                </div>
                
                <div>
                    <h3 class="font-medium text-gray-700">Información del Infractor</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong id="name-form">Nombre:</strong></p>
                        <p><strong id="lastName-form">Apellido:</strong></p>
                        <p><strong id="documentId-form">Documento:</strong></p>
                    </div>
                </div>
            </div>

            <div class="flex justify-end gap-3">
                <button type="button" onclick="toggleForm('form-multas', 'form-arrestos','form-licencia')"
                        class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all">
                    Cancelar
                </button>
                <button type="submit"
                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all flex items-center gap-2">
                    <i class="fas fa-save"></i>
                    Registrar Multa
                </button>
            </div>
        </form>
    </div>
    <!-- Formulario de licencia-->
    <div id="form-licencia" class="max-w-lg mx-auto bg-white rounded-xl shadow-lg hidden overflow-hidden">
        <div class="bg-green-600 p-4">
            <h2 class="text-xl font-bold text-white flex items-center gap-2">
                <i class="fas fa-file"></i>
                Cambiar el estado de licencia
            </h2>
        </div>
        
        <form id="upload-licence-form" class="p-6 space-y-6">
            <div class="space-y-4">
                <div>
                    <label for="status" class="block text-sm font-medium text-gray-700 mb-1">Nuevo Estado de Licencia de conducción</label>
                    <select name="status" id="selector-status-licence" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                        <option value="Valida">Valida</option>
                        <option value="Suspendida">Suspendida</option>
                        <option value="Cancelada">Cancelada</option>
                    </select>
                </div>

                <div>
                    <label for="reason" class="block text-sm font-medium text-gray-700 mb-1">Motivo del cambio</label>
                    <input type="textarea" id="reason-licence" name="reason" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                </div>
                <div>
                    <label for="date-licence" class="block text-sm font-medium text-gray-700 mb-1">
                        Fecha fin suspensión (No obligatoria)
                    </label>
                    <div class="relative">
                        <input type="date" id="date-licence" name="date"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none bg-white text-gray-700">
                        <span class="absolute inset-y-0 right-3 flex items-center text-gray-500 pointer-events-none">
                            <i class="fas fa-calendar-alt"></i>
                        </span>
                    </div>
                </div>

              
            
                </div>
             <p><strong>LEA ESTA INFORMACIÓN ANTES DE ENVIAR</strong> Al hacer una suspensión de licencia sin seleccionar una fecha por defecto va a estar suspendida por 7 dias, al cancelar una licencia el usuario no podrá solicitar una nueva licencia hasta 1 mes y medio desde la cancelación</p>

            <div class="bg-gray-50 p-4 rounded-lg space-y-3">
                <div class="border-b pb-3">
                    <h3 class="font-medium text-gray-700">Información del Agente</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong>Nombre:</strong> <%=userdata.nombreic%></p>
                        <p><strong>Apellido:</strong> <%=userdata.apellidoic%></p>
                        <p><strong>Documento:</strong> <%=userdata.documentId%></p>
                    </div>
                </div>
                
                <div>
                    <h3 class="font-medium text-gray-700">Información del Infractor</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong id="name-form3">Nombre:</strong></p>
                        <p><strong id="lastName-form3">Apellido:</strong></p>
                        <p><strong id="documentId-form3">Documento:</strong></p>
                    </div>
                </div>
            </div>

            <div class="flex justify-end gap-3">
                <button type="button" onclick="toggleForm('form-licencia','form-multas', 'form-arrestos')"
                        class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all">
                    Cancelar
                </button>
                <button type="submit"
                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all flex items-center gap-2">
                    <i class="fas fa-save"></i>
                    Cambiar Estado De licencia
                </button>
            </div>
        </form>
    </div>
    

    <!-- Formulario de Arrestos -->
    <div id="form-arrestos" class="max-w-lg mx-auto bg-white rounded-xl shadow-lg hidden overflow-hidden">
        <div class="bg-green-600 p-4">
            <h2 class="text-xl font-bold text-white flex items-center gap-2">
                <i class="fas fa-handcuffs"></i>
                Registrar Nuevo Arresto
            </h2>
        </div>

        <form id="upload-arrest-form" class="p-6 space-y-6">
            <div class="space-y-4">
                <div>
                    <label for="articulo-arresto" class="block text-sm font-medium text-gray-700 mb-1">Artículo</label>
                    <input type="text" id="articulo-arresto" name="record" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                </div>

                <div>
                    <label for="tiempo-arresto" class="block text-sm font-medium text-gray-700 mb-1">Tiempo en Meses</label>
                    <input type="number" id="tiempo-arresto" name="time" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                </div>

                <div>
    <label for="photo" class="block text-sm font-medium text-gray-700 mb-1">Evidencia Fotográfica</label>
    <div class="mt-1 flex flex-col items-center">
        <div id="preview-container" class="hidden w-full mb-4">
            <img id="preview-image" class="max-w-full h-auto rounded-lg shadow-lg" src="" alt="Vista previa">
            <button type="button" onclick="removeImage()" class="mt-2 text-red-600 hover:text-red-700 text-sm flex items-center gap-1">
                <i class="fas fa-times"></i>
                Eliminar imagen
            </button>
        </div>
        <div id="drop-zone" class="w-full flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-green-500 transition-colors">
            <div class="space-y-1 text-center">
                <i class="fas fa-camera text-4xl text-gray-400"></i>
                <div class="flex text-sm text-gray-600">
                    <label for="photo" class="relative cursor-pointer bg-white rounded-md font-medium text-green-600 hover:text-green-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-green-500">
                        <span>Subir archivo</span>
                        <input id="photo" name="photo" type="file" class="sr-only" accept="image/*" required>
                    </label>
                    <p class="pl-1">o arrastrar y soltar</p>
                </div>
                <p class="text-xs text-gray-500">PNG, JPG, GIF hasta 10MB</p>
            </div>
        </div>
    </div>
</div>
            </div>

            <div class="bg-gray-50 p-4 rounded-lg space-y-3">
                <div class="border-b pb-3">
                    <h3 class="font-medium text-gray-700">Información del Agente</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong>Nombre:</strong> <%=userdata.nombreic%></p>
                        <p><strong>Apellido:</strong> <%=userdata.apellidoic%></p>
                        <p><strong>Documento:</strong> <%=userdata.documentId%></p>
                    </div>
                </div>
                
                <div>
                    <h3 class="font-medium text-gray-700">Información del Detenido</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong id="name-form2">Nombre:</strong></p>
                        <p><strong id="lastName-form2">Apellido:</strong></p>
                        <p><strong id="documentId-form2">Documento:</strong></p>
                    </div>
                </div>
            </div>

            <div class="flex justify-end gap-3">
                <button type="button" onclick="toggleForm('form-arrestos', 'form-multas','form-licencia')"
                        class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all">
                    Cancelar
                </button>
                <button type="submit"
                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all flex items-center gap-2">
                    <i class="fas fa-save"></i>
                    Registrar Arresto
                </button>
            </div>
        </form>
    </div>
     <!-- Formulario de incautaciones -->
     <div id="form-incautacion" class="max-w-lg mx-auto bg-white rounded-xl shadow-lg hidden overflow-hidden">
        <div class="bg-green-600 p-4">
            <h2 class="text-xl font-bold text-white flex items-center gap-2">
                <i class="fas fa-handcuffs"></i>
                Registrar Incautación
            </h2>
        </div>

        <form id="upload-incautacion-form" class="p-6 space-y-6">
            <div class="space-y-4">
                <div>
                    <label for="articulo-incautacion" class="block text-sm font-medium text-gray-700 mb-1">Placa del vehiculo</label>
                    <input type="text" id="articulo-incautacion" name="plate" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                </div>

               

                <div>
    <label for="photo-inc" class="block text-sm font-medium text-gray-700 mb-1">Evidencia Fotográfica</label>
    <div class="mt-1 flex flex-col items-center">
        <div id="preview-container-inc" class="hidden w-full mb-4">
            <img id="preview-image-inc" class="max-w-full h-auto rounded-lg shadow-lg" src="" alt="Vista previa">
            <button type="button" onclick="removeImage()" class="mt-2 text-red-600 hover:text-red-700 text-sm flex items-center gap-1">
                <i class="fas fa-times"></i>
                Eliminar imagen
            </button>
        </div>
        <div id="drop-zone-inc" class="w-full flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-green-500 transition-colors">
            <div class="space-y-1 text-center">
                <i class="fas fa-camera text-4xl text-gray-400"></i>
                <div class="flex text-sm text-gray-600">
                    <label for="photo-inc" class="relative cursor-pointer bg-white rounded-md font-medium text-green-600 hover:text-green-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-green-500">
                        <span>Subir archivo</span>
                        <input id="photo-inc" name="photo" type="file" class="sr-only" accept="image/*" required>
                    </label>
                    <p class="pl-1">o arrastrar y soltar</p>
                </div>
                <p class="text-xs text-gray-500">PNG, JPG, GIF hasta 10MB</p>
            </div>
        </div>
    </div>
</div>
            </div>

            <div class="bg-gray-50 p-4 rounded-lg space-y-3">
                <div class="border-b pb-3">
                    <h3 class="font-medium text-gray-700">Información del Agente</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong>Nombre:</strong> <%=userdata.nombreic%></p>
                        <p><strong>Apellido:</strong> <%=userdata.apellidoic%></p>
                        <p><strong>Documento:</strong> <%=userdata.documentId%></p>
                    </div>
                </div>
                
                <div>
                    <h3 class="font-medium text-gray-700">Información del Detenido</h3>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><strong id="name-form4">Nombre:</strong></p>
                        <p><strong id="lastName-form4">Apellido:</strong></p>
                        <p><strong id="documentId-form4">Documento:</strong></p>
                    </div>
                </div>
            </div>

            <div class="flex justify-end gap-3">
                <button type="button" onclick="toggleForm('form-arrestos', 'form-multas','form-licencia')"
                        class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all">
                    Cancelar
                </button>
                <button type="submit"
                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all flex items-center gap-2">
                    <i class="fas fa-save"></i>
                    Registrar incautacion
                </button>
            </div>
        </form>
    </div>
</div>
    </main>


    <footer class="bg-gradient-to-b from-[#004830] to-[#003820] text-white mt-20">
        <div class="max-w-7xl mx-auto px-4 pt-16 pb-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div class="space-y-4">
                    <div class="flex items-center space-x-3 mb-6">
                        <img src="/dashboard/logoponal.png" alt="Logo PONAL" class="h-12 w-auto">
                        <div>
                            <h3 class="text-lg font-bold">Policía Nacional</h3>
                            <p class="text-sm text-[#BF9B30]">República de Colombia</p>
                        </div>
                    </div>
                    <p class="text-gray-300 text-sm leading-relaxed">
                        Comprometidos con la seguridad y el bienestar de todos los ciudadanos.
                    </p>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-6 text-[#BF9B30]">Enlaces Rápidos</h4>
                    <ul class="space-y-3">
                        <li>
                            <a href="https://cacolombia.com/police-page.html" class="text-gray-300 hover:text-white transition-colors duration-300 flex items-center group">
                                <span class="w-1 h-1 bg-[#BF9B30] rounded-full mr-2 opacity-0 group-hover:opacity-100 transition-opacity"></span>
                                Inicio
                            </a>
                        </li>
                        <li>
                            <a href="https://discord.gg/cacolombiarp" class="text-gray-300 hover:text-white transition-colors duration-300 flex items-center group">
                                <span class="w-1 h-1 bg-[#BF9B30] rounded-full mr-2 opacity-0 group-hover:opacity-100 transition-opacity"></span>
                                Contacto
                            </a>
                        </li>
                        <li>
                            <a href="https://cacolombia.com/notas.html" class="text-gray-300 hover:text-white transition-colors duration-300 flex items-center group">
                                <span class="w-1 h-1 bg-[#BF9B30] rounded-full mr-2 opacity-0 group-hover:opacity-100 transition-opacity"></span>
                                Documentación
                            </a>
                        </li>
                        <li>
                            <a href="#" class="text-gray-300 hover:text-white transition-colors duration-300 flex items-center group">
                                <span class="w-1 h-1 bg-[#BF9B30] rounded-full mr-2 opacity-0 group-hover:opacity-100 transition-opacity"></span>
                                CA Colombia
                            </a>
                        </li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-6 text-[#BF9B30]">Servicios</h4>
                    <ul class="space-y-3">
                        <li>
                            <a href="https://www.cacolombia.com/public/v1/showRecords" onclick="redirectToPublicPage()" class="text-gray-300 hover:text-white transition-colors duration-300 flex items-center group">
                                <span class="w-1 h-1 bg-[#BF9B30] rounded-full mr-2 opacity-0 group-hover:opacity-100 transition-opacity"></span>
                                Consulta de Antecedentes
                            </a>
                        </li>
                        
                    </ul>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-6 text-[#BF9B30]">Redes Sociales</h4>
                    <div class="flex space-x-4">
                        <a href="https://discord.gg/cacolombiarp" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#BF9B30] transition-colors duration-300 group">
                            <svg class="w-5 h-5 text-gray-300 group-hover:text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="border-t border-white/10 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-400 text-sm mb-4 md:mb-0">
                        © 2025 [CA] Colombia ER:LC. Todos los derechos reservados.
                    </p>
                    <div class="flex flex-col text-center md:text-right">
                        <p class="text-sm text-gray-400 mb-1">Este sitio web es un proyecto de ficción y parodia.</p>
                        <p class="text-sm text-gray-400">No está afiliado a ninguna entidad oficial.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

   
    <div id="loading" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg flex items-center space-x-4">
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const searchInput = document.getElementById('input');
    let isMenuOpen = false;

    searchInput.addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
            event.preventDefault();
            getIdByDoc();
        }
    });

    mobileMenuButton.addEventListener('click', function() {
        isMenuOpen = !isMenuOpen;
        mobileMenu.classList.toggle('hidden');
        
        // Animate icon
        const icon = this.querySelector('i');
        if (isMenuOpen) {
            icon.classList.remove('fa-bars');
            icon.classList.add('fa-times');
        } else {
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
        }
    });

    // Cerrar menú al hacer clic en un enlace
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
        link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
            isMenuOpen = false;
            const icon = mobileMenuButton.querySelector('i');
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
        });
    });
});
    </script>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        let personInfo;
        let searchPerson;
        const agentName='<%=userdata.nombreic%>'+" "+"<%=userdata.apellidoic%>";
        function toggleForm(formId,formId2,formId3,formId4) {
            if(!searchPerson){
                return
            }else{
                document.getElementById('name-form').innerText = "Nombre:"+personInfo.nombreic
                document.getElementById('lastName-form').innerText ="Apellido:"+personInfo.apellidoic
                document.getElementById('documentId-form').innerText ="Numero de documento:"+personInfo.documentId
                document.getElementById('name-form2').innerText = "Nombre:"+personInfo.nombreic
                document.getElementById('lastName-form2').innerText ="Apellido:"+personInfo.apellidoic
                document.getElementById('documentId-form2').innerText ="Numero de documento:"+personInfo.documentId
                document.getElementById('name-form3').innerText = "Nombre:"+personInfo.nombreic
                document.getElementById('lastName-form3').innerText ="Apellido:"+personInfo.apellidoic
                document.getElementById('documentId-form3').innerText ="Numero de documento:"+personInfo.documentId
                document.getElementById('name-form4').innerText = "Nombre:"+personInfo.nombreic
                document.getElementById('lastName-form4').innerText ="Apellido:"+personInfo.apellidoic
                document.getElementById('documentId-form4').innerText ="Numero de documento:"+personInfo.documentId
            }
      
        const form = document.getElementById(formId);
        const form2 = document.getElementById(formId2);
        const form3 = document.getElementById(formId3);
        const form4 = document.getElementById(formId4);
        form.style.display = form.style.display === 'none' ? 'block' : 'none';
        form2.style.display = 'none'
        form3.style.display = 'none'
        form4.style.display = 'none'
    }
   
    document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('input'); 
        const searchButton = document.querySelector('.search-button'); 

        // Escuchar el evento keydown en el input
        searchInput.addEventListener('keydown', function (event) {
            if (event.key === 'Enter') { 
                event.preventDefault(); 
                searchButton.click(); 
            }
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        const multasForm = document.getElementById('upload-ticket-form');
        const arrestosForm = document.getElementById('upload-arrest-form');
        const licenciaForm = document.getElementById('upload-licence-form');
        const incform = document.getElementById('upload-incautacion-form');

        // Función para enviar los datos de multas
        multasForm.addEventListener('submit', function (event) {
            setLoadingOn()
            event.preventDefault();

            const data = {
                type: document.getElementById('selector').value,
                record: document.getElementById('articulos-multa').value,
                plate: document.getElementById('placa-multa').value,
                value: document.getElementById('valor-multa').value,
              
               
            };

            axios.post('/v1/sendticket', {ticketData:data,agentName:agentName,pedData:personInfo})
                .then(response => {
                    console.log('Multa subida:', response.data);
                    setLoadingOff()
                    alert('Multa subida exitosamente');
                    multasForm.reset(); 
                    
                })
                .catch(error => {
                    setLoadingOff()
                    console.error('Error al subir la multa:', error);
                    alert('Hubo un error al subir la multa');
                });
        });
        //send licencias form
        licenciaForm.addEventListener('submit', function (event) {
    setLoadingOn();
    event.preventDefault();

    const data = {
        status: document.getElementById('selector-status-licence').value,
        reason: document.getElementById('reason-licence').value,       
        date :  document.getElementById('date-licence').value,  
    };
      
    axios.post('/v1/changelicence', {
        status: data.status,
        reason: data.reason,
        userId: personInfo.userId,
        date: data.date
    })
    .then(response => {
        console.log('Licencia modificada:', response.data);
        setLoadingOff();
        alert('Licencia modificada exitosamente');
        licenciaForm.reset(); 
    })
    .catch(error => {
        setLoadingOff();
        if (error.response) {
            if (error.response.status === 404 && error.response.data?.message) {
                alert(`Error 404: ${error.response.data.message} \n Si el error es: "No licence found" significa que el usuario no tiene licencia`);
            }else{
                if(error.response.status === 401 && error.response.data?.message){
                    alert(`Error 401:${error.response.data.message} \n Si el error es No role significa que no tienes el rol de transito para usar esta funcion`)
                }else {
                alert('Hubo un error al cambiar el estado de licencia');
            }
            }
        } else {
            alert('Error de conexión con el servidor');
        }
        console.error('Error al cambiar el estado de licencia:', error);
    });
});

        arrestosForm.addEventListener('submit', function (event) {
        event.preventDefault();
        setLoadingOn();


        const data = {
            ticketData: {
                record: document.getElementById('articulo-arresto').value,
                time: document.getElementById('tiempo-arresto').value
            },
            agentName: agentName,
            pedData: personInfo
        };

        const photo = document.getElementById('photo').files[0];


        const formData = new FormData();
        
      
        formData.append('data', JSON.stringify(data));
        

        formData.append('photo', photo);


        axios.post('/v1/sendrecord', formData, {
            headers: {
                'Content-Type': 'multipart/form-data'
            }
        })
        .then(response => {
            console.log('Arresto subido:', response.data);
            setLoadingOff();
            alert('Arresto subido exitosamente');
            arrestosForm.reset();
            removeImage()
        })
        .catch(error => {
            console.error('Error al subir el arresto:', error);
            setLoadingOff();
            alert('Hubo un error al subir el arresto');
        });
    });
    //incautacion
        incform.addEventListener('submit', function (event) {
        event.preventDefault();
        setLoadingOn();


        const data = {
                
                plate: document.getElementById('articulo-incautacion').value,
                status:"incautado",
                userId:personInfo.userId
       
        };

        const photo = document.getElementById('photo-inc').files[0];


        const formData = new FormData();
        
      
        formData.append('data', JSON.stringify(data));
        

        formData.append('photo', photo);


        axios.post('/v1/changevehiclestatus', formData, {
            headers: {
                'Content-Type': 'multipart/form-data'
            }
        })
        .then(response => {
            console.log('Incautación subida:', response.data);
            setLoadingOff();
            alert('Incautación subido exitosamente');
            incform.reset(); 
            removeImage()
        })
        .catch(error => {
        setLoadingOff();
        if (error.response) {
            if (error.response.status === 404 && error.response.data?.message) {
                alert(`Error 404: ${error.response.data.message} \n Si el error es: "no vehicle finded" significa que la persona no tiene registrado un vehiculo con esa placa a su nombre`);
            }else{
                if(error.response.status === 401 && error.response.data?.message){
                    alert(`Error 401:${error.response.data.message} \n Si el error es No role significa que no tienes el rol de transito para usar esta funcion`)
                }else {
                alert('Hubo un error al incautar el vehiculo');
            }
            }
        } else {
            alert('Error de conexión con el servidor');
        }
        console.error('Error al incautar el vehiculo:', error);
    });
    });
    });
    </script>
    <script>
        function cerrarSesion() {
       
        axios.post('/v1/logout') 
            .then(response => {
            
                window.location.reload();
            })
            .catch(error => {
                console.error('Error al cerrar sesión:', error);
                alert('Hubo un error al cerrar la sesión');
            });
    }
    </script>
    <script src="/dashboard/getinfo.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const progressBar = document.querySelector('.progress-bar');
            const loadingScreen = document.querySelector('.initial-loading');
            const loadingMessage = document.querySelector('.loading-message');
            const body = document.body;
            const messages = [
                'Inicializando sistema...',
                'Conectando con la base de datos...',
                'Cargando módulos...',
                'Verificando credenciales...',
                'Preparando interfaz...'
            ];
            let messageIndex = 0;

            const messageInterval = setInterval(() => {
                if (messageIndex < messages.length) {
                    loadingMessage.style.opacity = '0';
                    setTimeout(() => {
                        loadingMessage.textContent = messages[messageIndex];
                        loadingMessage.style.opacity = '1';
                    }, 200);
                    messageIndex++;
                }
            }, 800);

            setTimeout(() => {
                progressBar.style.width = '100%';
            }, 100);

            setTimeout(() => {
                clearInterval(messageInterval);
                loadingScreen.classList.add('fade-out');
                body.classList.add('loaded');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 800);
            }, 4000);
        });
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const dropZone = document.getElementById('drop-zone');
        const photoInput = document.getElementById('photo');
        const previewContainer = document.getElementById('preview-container');
        const previewImage = document.getElementById('preview-image');
        const dropZoneinc = document.getElementById('drop-zone-inc');
        const photoInputinc = document.getElementById('photo-inc');
        const previewContainerinc = document.getElementById('preview-container-inc');
        const previewImageinc = document.getElementById('preview-image-inc');

        // Función para mostrar la previsualización
        function showPreview(file) {
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    previewContainer.classList.remove('hidden');
                    dropZone.classList.add('hidden');
                }
                reader.readAsDataURL(file);
            }
        }

        // Manejar selección de archivo
        photoInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.type.startsWith('image/')) {
                showPreview(file);
            }
        });

        // Manejar drag and drop
        dropZone.addEventListener('dragover', function(e) {
            e.preventDefault();
            dropZone.classList.add('border-green-500');
        });

        dropZone.addEventListener('dragleave', function(e) {
            e.preventDefault();
            dropZone.classList.remove('border-green-500');
        });

        dropZone.addEventListener('drop', function(e) {
            e.preventDefault();
            dropZone.classList.remove('border-green-500');
            
            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                photoInput.files = e.dataTransfer.files;
                showPreview(file);
            }
        });
        //INCAUTACIONEESSSSS
        function showPreview(file) {
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImageinc.src = e.target.result;
                    previewContainerinc.classList.remove('hidden');
                    dropZoneinc.classList.add('hidden');
                }
                reader.readAsDataURL(file);
            }
        }

        // Manejar selección de archivo
        photoInputinc.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.type.startsWith('image/')) {
                showPreview(file);
            }
        });

        // Manejar drag and drop
        dropZoneinc.addEventListener('dragover', function(e) {
            e.preventDefault();
            dropZoneinc.classList.add('border-green-500');
        });

        dropZoneinc.addEventListener('dragleave', function(e) {
            e.preventDefault();
            dropZoneinc.classList.remove('border-green-500');
        });

        dropZoneinc.addEventListener('drop', function(e) {
            e.preventDefault();
            dropZoneinc.classList.remove('border-green-500');
            
            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                photoInputinc.files = e.dataTransfer.files;
                showPreview(file);
            }
        });
    });

    

    // Función para eliminar la imagen
    function removeImage() {
        const photoInput = document.getElementById('photo');
        const previewContainer = document.getElementById('preview-container');
        const dropZone = document.getElementById('drop-zone');
        const previewImage = document.getElementById('preview-image');
        const photoInput2 = document.getElementById('photo-inc');
        const previewContainer2 = document.getElementById('preview-container-inc');
        const dropZone2 = document.getElementById('drop-zone-inc');
        const previewImage2 = document.getElementById('preview-image-inc');

        photoInput.value = '';
        previewImage.src = '';
        previewContainer.classList.add('hidden');
        dropZone.classList.remove('hidden');
        photoInput2.value = '';
        previewImage2.src = '';
        previewContainer2.classList.add('hidden');
        dropZone2.classList.remove('hidden');
    }
</script>
</body>
</html>